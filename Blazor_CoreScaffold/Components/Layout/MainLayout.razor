@inherits LayoutComponentBase
@using MudBlazor

<MudThemeProvider @ref="_mudThemeProvider"
                  Theme="_dashboardTheme"
                  @bind-IsDarkMode="_isDarkMode" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout Class="dashboard-shell">
    <MudDrawer @bind-Open="_drawerOpen"
               Variant="DrawerVariant.Persistent"
               Elevation="0"
               Class="dashboard-shell__drawer">
        <NavMenu />
    </MudDrawer>

    <MudMainContent Class="dashboard-shell__main">
        <MudContainer MaxWidth="MaxWidth.False" Class="dashboard-shell__content">
            @Body
            <DashboardFooter />
        </MudContainer>
    </MudMainContent>
</MudLayout>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>

@code {
    private MudThemeProvider? _mudThemeProvider;
    private bool _isDarkMode = true;
    private bool _drawerOpen = true;

    private readonly MudTheme _dashboardTheme = new()
    {
        PaletteLight = new PaletteLight
        {
            Primary = "#137fec",
            Background = "#f6f7f8",
            Surface = "#ffffff",
            DrawerBackground = "#ffffff",
            DrawerText = "#1f2937",
            AppbarBackground = "#ffffff",
            TextPrimary = "#1f2937",
            TextSecondary = "#6b7280",
            Success = "#10B981",
            Warning = "#FBBF24",
            Error = "#EF4444"
        },
        PaletteDark = new PaletteDark
        {
            Primary = "#137fec",
            Background = "#101922",
            Surface = "#1A242E",
            DrawerBackground = "#121c26",
            DrawerText = "#f9fafb",
            AppbarBackground = "#1A242E",
            TextPrimary = "#f9fafb",
            TextSecondary = "#9ca3af",
            Success = "#10B981",
            Warning = "#FBBF24",
            Error = "#EF4444"
        },
        LayoutProperties = new LayoutProperties
        {
            DefaultBorderRadius = "18px"
        }
    };
}
