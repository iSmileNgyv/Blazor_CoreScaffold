@using System.ComponentModel.DataAnnotations
@using Blazor_CoreScaffold.Components.Layout
@page "/login"
@layout LoginLayout
@attribute [AllowAnonymous]
@rendermode InteractiveServer
<PageTitle>Admin Login</PageTitle>

<div class="login-shell">
    <section class="login-hero">
        <div class="login-hero__content">
            <div class="login-hero__logo">
                <MudIcon Icon="@Icons.Material.Filled.Tune" Size="Size.Large" />
            </div>
            <MudText Typo="Typo.h4" Class="login-hero__title">Admin Panel</MudText>
            <MudText Typo="Typo.body1" Align="Align.Center" Class="login-hero__subtitle">
                Secure access for administrators to manage the Java core project.
            </MudText>
        </div>
    </section>

    <section class="login-panel">
        <div class="login-panel__inner">
            <MudText Typo="Typo.h4" Class="login-form-title">Sign In</MudText>

            <MudForm @ref="form" @bind-IsValid="@success" OnSubmit="SubmitLogin" Class="login-form">
                <MudTextField T="string"
                              Label="Username"
                              @bind-Value="Username"
                              Required="true"
                              RequiredError="Username is required!"
                              Variant="Variant.Outlined"
                              Margin="Margin.None"
                              Adornment="Adornment.Start"
                              AdornmentIcon="@Icons.Material.Filled.Person"
                              Class="login-input" />

                <div class="password-field">
                    <MudTextField T="string"
                                  Label="Password"
                                  @bind-Value="Password"
                                  Required="true"
                                  RequiredError="Password is required!"
                                  InputType="@PasswordInput"
                                  Variant="Variant.Outlined"
                                  Margin="Margin.None"
                                  Adornment="Adornment.Start"
                                  AdornmentIcon="@Icons.Material.Filled.Lock"
                                  Class="login-input password-input" />
                    <MudIconButton Icon="@PasswordVisibilityIcon"
                                   OnClick="TogglePasswordVisibility"
                                   Color="Color.Inherit"
                                   Variant="Variant.Text"
                                   Class="password-toggle"
                                   AriaLabel="Toggle password visibility" />
                </div>

                <div class="login-form__options">
                    <MudCheckBox T="bool"
                                 @bind-Checked="RememberMe"
                                 Label="Remember me"
                                 Color="Color.Primary"
                                 Size="Size.Small"
                                 Class="login-form__remember" />
                    <MudLink Href="#"
                             Typo="Typo.body2"
                             Class="login-form__forgot">Forgot Password?</MudLink>
                </div>

                <MudButton ButtonType="ButtonType.Submit"
                           Variant="Variant.Filled"
                           Color="Color.Primary"
                           Size="Size.Large"
                           OnClick="SubmitLogin"
                           FullWidth="true"
                           Disabled="@(!success || isSubmitting)"
                           Loading="@isSubmitting"
                           Class="login-submit">
                    Log In
                </MudButton>
            </MudForm>

            <MudText Typo="Typo.caption" Align="Align.Center" Class="login-footer">
                Â© @DateTime.Now.Year Java Core Project. All Rights Reserved.
            </MudText>
        </div>
    </section>
</div>
